
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
        <title>Cordova SFTP Plugin for Android</title>
        
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="ui-resources/css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href="ui-resources/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href="ui-resources/css/font-awesome.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href="ui-resources/css/prism.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    </head>
    <body>
        <nav class="light-blue lighten-1" role="navigation">
            <div class="nav-wrapper container">
                <a id="logo-container" href="#" class="brand-logo">
                    Cordova SFTP Plugin
                </a>
                <ul class="right hide-on-med-and-down">
                    <li><a href="https://github.com/sdkcarlos/cordova-ourcodeworld-sftpplugin"><i class="fa fa-github"></i></a></li>
                </ul>

                <ul id="nav-mobile" class="side-nav">
                    <li><a href="https://github.com/sdkcarlos/cordova-ourcodeworld-sftpplugin"><i class="fa fa-github"></i> Github</a></li>
                </ul>
                <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
            </div>
        </nav>
        <div class="container">
            <div class="section">
                <div class="row">
                    <div class="col s12 m6">
                        <div class="card">
                                <div class="card-image text-center">
                                    <a href="https://play.google.com/store/apps/details?id=com.ourcodeworld.ourcodeeditorfree">
                                        <img src="http://ourcodeworld.com/resources/apps-resources/ourcodeeditor/ourcodeeditor_logo.png" class="center-block" style='width:50%'>
                                    </a>
                                </div>
                            <div class="card-content text-center">
                                <p>
                                    Download <b>for free</b> my new Code Editor for Android. Keep coding wherever you are.
                                </p>
                                <a href="https://play.google.com/store/apps/details?id=com.ourcodeworld.ourcodeeditorfree&utm_source=global_co&utm_medium=prtnr&utm_content=Mar2515&utm_campaign=PartBadge&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"><img alt="Get it on Google Play" src="https://play.google.com/intl/en_us/badges/images/generic/en-play-badge.png" style="width: 200px;"/></a>
                            </div>
                            <div class="card-action text-center">
                                <a href="https://play.google.com/store/apps/details?id=com.ourcodeworld.ourcodeeditorfree">What are you waiting? Download free here</a>
                            </div>
                        </div>
                    </div>
                    <div class="col s12 m6">
                        <div class="row text-center" >
                            <h2 class="light-blue-text text-center" >Content table</h2>
                            <div class="col s12 m12">
                                <ul>
                                    <li><a href="#guide-installation">Installation</a></li>
                                    <li><a href="#guide-whatoffers">What offers this plugin</a></li>
                                    <li><a href="#guide-step1">Step 1</a></li>
                                    <li><a href="#guide-step2">Step 2</a></li>
                                    <li><a href="#guide-step3">Step 3</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <div class='section' id="guide-installation">
                <div class='row'>
                    <h2 class="light-blue-text text-center" >How to install</h2>
                    <p>Include the plugin on your project</p>
                    <pre><code class="language-batch">cordova plugin add https://github.com/sdkcarlos/cordova-ourcodeworld-sftpplugin.git</code></pre>
                    <p>Remember you need an active <b>android platform</b>, this plugin only is available on android. Then in your document a global variable will be accesible with <em><b>OurCodeWorldSFTP</b></em></p>
                </div>
            </div>
            <hr>
            <div class='section' id="guide-whatoffers">
                <div class='row text-center'>
                    <h2 class="light-blue-text text-center" ><a href="javascript:void(0);">What offers</a></h2>
                    <p>This plugin is built on <a href="http://www.jcraft.com/jsch/" target="_blank">JSCH</a>, and offers <b>the basic support</b> of the SFTP client of JSCH,features like :</p>
                    <ul>
                        <li><i class='fa fa-check'></i> Secure connection</li>
                        <li><i class='fa fa-check'></i> <a href="#guide-listremote">List a remote path</a></li>
                        <li><i class='fa fa-check'></i> <a href="#guide-uploadfile">Upload files</a></li>
                        <li><i class='fa fa-check'></i> <a href="#guide-downloadfile">Download files</a></li>
                        <li><i class='fa fa-check'></i> <a href="#guide-delete">Delete remote file</a></li>
                        <li><i class='fa fa-check'></i> <a href="#guide-privatekey">Use private key to connect</a></li>
                        <li><i class='fa fa-check'></i> Download/Upload progress indicator</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="section">
                <div class="text-center" style="width: 100%;min-height:100px;">
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <!-- Our Code World Banner -->
                    <ins class="adsbygoogle"
                         style="display:inline-block;width:728px;height:90px"
                         data-ad-client="ca-pub-7687344986141325"
                         data-ad-slot="7923888697"></ins>
                    <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </div>
            <hr>
            <div class='section' id="guide-step1">
                <div class='row'>
                    <h2 class="light-blue-text text-center" ><a  href="javascript:void(0);">1) Create a SFTP Client</a><br><small>No external call</small></h2>
                    <p>It's important to understand the structure of the plugin, to start a connection to a sftp server, we need to create a client which will be assigned to a variable.</p>
                    <pre><code class="language-javascript">// Now we have a sftp client in javascript ! Cool isn't ?
var client = OurCodeWorldSFTP.createSFTPClient();
</code></pre>
                    <p>
                        We need to execute this code in (or after) the <em><b>deviceready</b></em> event.
                    </p>
                </div>
            </div>
            <hr>
            <div class='section' id="guide-step2">
                <div class='row'>
                    <h2 class="light-blue-text text-center" ><a href="javascript:void(0);">2) Set credentials</a><br><small>No external call</small></h2>
                    <p>Without credentials we cannot access any server ! use <b>setCredentials</b> method first.</p>
                    <pre><code class="language-javascript">// Set the credentials like this : ip-sftp-server , your user, the password
client.setCredentials("00.000.00.00","user","password");
// or client.setCredentials("myserver.domain.com","user","password");

// If your sftp server doesn't use the port 22 you can change it with setCredentials method
// in this case we will change the port to the 21
client.setCredentials("00.000.00.00","user","password","21");
</code></pre>
                    <p>
                        
                    </p>
                </div>
            </div>
            <hr>
            <div class="section" id="guide-step3">
                <div class="row">
                    <h2 class="light-blue-text text-center" ><a href="javascript:void(0);">3) setPath & getPath</a> <br><small>No external call</small></h2>
                </div>
                <p>
                    You need to store the remote path (default path will be <b>/root</b> if you don't change the path) in the client, this will be used to execute tasks like <b>list a folder</b>
                </p>
                <pre><code class="language-javascript">// Set the relative remote path
client.setPath("/var/www/vhosts/myproject/");

//You can retrieve the active path with
console.log(client.getPath()); // Output: /var/www/vhosts/myproject/
</code></pre>
                 <h4 class="text-center">Now you'll able to execute any of the functions of the plugin</h4>
            </div>
            <hr>
            <div class="section">
                <div class="text-center" style="width: 100%;min-height:100px;">
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <!-- Our Code World Banner -->
                    <ins class="adsbygoogle"
                         style="display:inline-block;width:728px;height:90px"
                         data-ad-client="ca-pub-7687344986141325"
                         data-ad-slot="7923888697"></ins>
                    <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </div>
            <hr>
            <div class="section" id="guide-listremote">
                <div class="row">
                    <h2 class="light-blue-text text-center" ><a href="javascript:void(0);">List remote path</a></h2>
                </div>
                <p>Get all the folders and files of the client path :</p>
                <pre><code class="language-javascript">
var client = OurCodeWorldSFTP.createSFTPClient();
// Or 
// client.setCredentials("0000.000.00","myuser","password");
client.setCredentials("myserver.something.com","myuser","password");
client.setPath("/var/www/vhosts/myproject");


/**
 * Receives an array with objects with all the content of a path (files and folders)
 */
var success = function(data) {
    console.info(data);
    /**
    Outputs : 
    [
        {
            name:"Folder/File name",
            filepath: "/var/www/vhosts/myproject/something.txt",
            isDir:false, // is Folder = true, is File = false
            isLink:false,
            size:"123", // bytes
            permissions: "????",
            permissions_string:"xxxxx",
        }
    ];
    */
}

// Oops .. something failed :| , may be the path ? or credentials ?
var failure = function(e) {
    console.error(e);
}

client.list(success, failure);
</code></pre>
            </div>
            <hr>
            <div class="section" id="guide-downloadfile">
                <div class="row">
                    <h2 class="light-blue-text text-center" ><a href="javascript:void(0);">Download a file</a></h2>
                </div>
                <p>Download a remote file to your device :</p>
                <pre><code class="language-javascript">// Do not include file:// to the local path, you can change the local filename if you want
client.downloadFile("/var/www/vhosts/myproject/file.txt","/storage/emulated/0/file.txt",{
    success:function(download){
        // see the object info
        console.log(download);

        if(download.finished == true){
            console.info("The file has been succesfully downloaded");
        }else{
            //Display the progress
            console.log("Progress download : "+download.progress+"%. "+ download.bytesprogress +" bytes downloaded of " + download.filesizebytes + "total");
        }
    },
    error:function(er){
        // snap ! An error :(
        console.error(er);
    }
});
</code></pre>
            </div>
            <hr>
            <div class="section" id="guide-uploadfile">
                <div class="row">
                    <h2 class="light-blue-text text-center" ><a href="javascript:void(0);">Upload a file</a></h2>
                </div>
                <p>Upload a local file to the server :</p>
                <pre><code class="language-javascript">// Do not include file:// to the local path, you can change the remote filename if you want
client.uploadFile("/storage/emulated/0/file.txt","/var/www/vhosts/myproject/file.txt",{
    success:function(download){
        // see the object info
        console.log(download);

        if(download.finished == true){
            console.info("The file has been succesfully uploaded");
        }else{
            //Display the progress
            console.log("Progress upload : "+download.progress+"%. "+ download.bytesprogress +" bytes uploaded of " + download.filesizebytes + "total");
        }
    },
    error:function(er){
        // snap ! An error :(
        console.error(er);
    }
});
</code></pre>
            </div>
            <hr>
            <div class="section" id="guide-delete">
                <div class="row">
                    <h2 class="light-blue-text text-center" ><a href="javascript:void(0);">Delete a remote file</a></h2>
                </div>
                <p>Delete a remote file:</p>
                <pre><code class="language-javascript">client.removeFile("/var/www/vhosts/myproject/file.txt",{
    success:function(removed){
        // see the object info
        console.log(removed);

        if(download.deleted == true){
            console.log("File removed from the server");
        }
    },
    error:function(er){
        // snap ! An error :( maybe doesnt exist?
        console.error(er);
    }
});
</code></pre>
            </div>
            <hr>
            <div class="section" id="guide-privatekey">
                <div class="row">
                    <h2 class="light-blue-text text-center" ><a href="javascript:void(0);">Use a private key to connect</a></h2>
                </div>
                <p>If your server needs a Private key to connect, you can use setIdentity method, Public key authentication uses a public-private , your private key must use OpenSSH format.</p>
                <pre><code class="language-javascript">var client = OurCodeWorldSFTP.createSFTPClient();
client.setCredentials("myserver.something.com","myuser","password");
client.setPath("/var/www/vhosts/myproject");
client.setIdentity("/storage/emulated/0/id_dsa.pub");

// Do anything what you want
</code></pre>
            </div>
            <hr>
            <div class="section" id="guide-knownhosts">
                <div class="row">
                    <h2 class="light-blue-text text-center" ><a href="javascript:void(0);">Use a known hosts file</a></h2>
                </div>
                <p>It's recommendable to set a Known Hosts file to your sftp connection, otherwise your connection can be victim of a <b>Man In the Middle Attack (MITM)</b>, just use setKnownHosts method giving the path of the local file.
                    If you don't use this file, the plugin will work anyway, but is better use a known hosts.
                </p>
                <pre><code class="language-javascript">// Set local known_hosts file
client.setKnownHosts("/storage/emulated/0/known_hosts");
</code></pre>
            </div>
            <hr>
            <div class="section">
                <div class="text-center" style="width: 100%;min-height:100px;">
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <!-- Our Code World Banner -->
                    <ins class="adsbygoogle"
                         style="display:inline-block;width:728px;height:90px"
                         data-ad-client="ca-pub-7687344986141325"
                         data-ad-slot="7923888697"></ins>
                    <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </div>
            </hr>
            <div class="section">
                <div class="text-center">
                    <h2>If you have a questions don't hesitate, report the issue on github</h2>
                </div>
            </div>
            <hr>
            <div class="section">
                <div class="row">
                    <div class="col s12 m6">
                      <div class="card">
                        <div class="card-image">
                          <img src="http://placekitten.com/600/338">
                          <span class="card-title">Did you like the plugin?</span>
                        </div>
                        <div class="card-content text-center">
                            <p>
                                I would really appreciate your support with this plugin 
                                give a Star <i class="fa fa-star"></i> on the Github Repository !<br>
                            </p>
                            <a class="waves-effect waves-light btn" href="https://github.com/sdkcarlos/cordova-ourcodeworld-sftpplugin/stargazers">We are already <span id="starred-github" class="fa fa-spinner fa-spin"></span> persons , Join us !</a>
                        </div>
                        <div class="card-action text-center">
                            <a href="https://github.com/sdkcarlos/cordova-ourcodeworld-sftpplugin/issues">Issues <i class="fa fa-ambulance"></i></a>
                            <a href="https://github.com/sdkcarlos/cordova-ourcodeworld-sftpplugin/issues">Official Docs <i class="fa fa-book"></i></a>
                        </div>
                      </div>
                    </div>
                    <div class="col s12 m6 text-center">
                        <h4>Buy me a coffee <i class="fa fa-smile-o"></i></h4>
                        <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                            <input type="hidden" name="cmd" value="_s-xclick">
                            <input type="hidden" name="hosted_button_id" value="SAWBC868GKKPC">
                            <input type="image" src="https://www.paypalobjects.com/en_US/DE/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                            <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                        </form>
                    </div>
                </div>
            </div>
            <!-- Boton de accion de artyom -->
            <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
                <a class="btn-floating btn-large waves-effect waves-light blue" href='https://github.com/sdkcarlos/cordova-ourcodeworld-sftpplugin'>
                    <span class="fa fa-github-square"></span>
                </a>
            </div>
        </div>
        
        <footer class="page-footer orange">
            <div class="container">
                <div class="row">
                    <div class="col l9 s12">
                        <h5 class="white-text">About this plugin</h5>
                        <p class="grey-text text-lighten-4">
                            The objective of this plugin is to make an easy sftp implementation of your project, is created because Our Code Editor needed this feature.<br>
                            By this reason the plugin is available for any android (cordova) developer who need a sftp feature.
                            (the FTP support is also planned but is not available yet).
                        </p>
                        <p class="grey-text text-lighten-4">
                            You want to know something or contact with me ? Write me to <a class="white-text" href='mailto:dev@ourcodeworld.com?Subject=Hello'>dev@ourcodeworld.com</a>
                        </p>
                    </div>
                    <div class="col l3 s12">
                        <h5 class="white-text">More projects</h5>
                        <ul>
                            <li><a class="white-text" href="http://ourcodeworld.com/apps/our-code-editor" target="_blank">Our Code Editor (Code editor for android)</a></li>
                            <li><a class="white-text" href="https://sdkcarlos.github.io/sites/holdon.html" target="_blank">HoldOn.js (Lock the UI on ajax calls)</a></li>
                            <li><a class="white-text" href="http://sdkcarlos.github.io/sites/artyom.html" target="_blank">Artyom.js (Voice control with Javascript on Chrome)</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-copyright">
                <div class="container">
                    Made with <span class="fa fa-heart"></span> by <a class="orange-text text-lighten-3" href="http://ourcodeworld.com">Our Code World (Carlos Delgado)</a>
                </div>
            </div>
        </footer>


        <!--  Scripts-->
        <script src="ui-resources/js/jquery.min.js"></script>
        <script src="ui-resources/js/materialize.min.js"></script>
        <script src="ui-resources/js/init.js"></script>
        <script src="ui-resources/js/prism.js"></script>
        <script>
            $(function(){
                $.getJSON("https://api.github.com/repos/sdkcarlos/cordova-ourcodeworld-sftpplugin",function(data){
                    var sel = $("#starred-github");
                    sel.removeAttr('class');
                    sel.html(data.watchers_count);
                });
            });
        </script>
    </body>
</html>
